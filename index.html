<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh s√°ch phim ƒë√£ xem</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 720px;
            margin: auto;
            padding: 20px;
            background: #f4f6f9;
        }

        h1, h2 {
            color: #1a3c6d;
        }

        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border-radius: 6px;
            border: 1px solid #ccc;
            box-sizing: border-box;
        }

        button {
            padding: 12px 18px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            background: #34a853;
            color: white;
            margin-right: 5px;
        }

        button:hover {
            opacity: 0.9;
        }

        .delete-btn {
            background: #dc3545;
            padding: 6px 12px;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        li {
            background: white;
            margin: 8px 0;
            padding: 12px;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        #result {
            margin-top: 15px;
            padding: 12px;
            background: white;
            border-radius: 6px;
            border: 1px solid #ddd;
        }

        .google-btn {
            background: #4285f4;
        }
    </style>
</head>

<body>

<h1>üé¨ Danh s√°ch phim ƒë√£ xem</h1>

<input id="movieInput" placeholder="Nh·∫≠p t√™n phim...">
<button id="addBtn">‚ûï Th√™m phim</button>

<ul id="movieList"></ul>

<h2>üîç Ki·ªÉm tra ph·∫ßn m·ªõi</h2>
<input id="searchInput" placeholder="Nh·∫≠p t√™n phim (Dune, Deadpool...)">
<button class="google-btn" id="googleBtn">H·ªèi Google</button>

<div id="result">Nh·∫≠p t√™n phim v√† b·∫•m "H·ªèi Google"</div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const movieInput  = document.getElementById('movieInput');
    const movieList   = document.getElementById('movieList');
    const addBtn      = document.getElementById('addBtn');
    const searchInput = document.getElementById('searchInput');
    const googleBtn   = document.getElementById('googleBtn');
    const resultBox   = document.getElementById('result');

    let movies = JSON.parse(localStorage.getItem('watchedMovies')) || [];

    function save() {
        localStorage.setItem('watchedMovies', JSON.stringify(movies));
    }

    function render() {
        movieList.innerHTML = '';
        movies.forEach((movie, index) => {
            const li = document.createElement('li');

            li.innerHTML = `
                <span>${movie}</span>
                <button class="delete-btn">X√≥a</button>
            `;

            li.querySelector('button').addEventListener('click', () => {
                if (confirm('X√≥a phim n√†y?')) {
                    movies.splice(index, 1);
                    save();
                    render();
                }
            });

            movieList.appendChild(li);
        });
    }

    function addMovie() {
        const name = movieInput.value.trim();
        if (!name) return;

        if (movies.includes(name)) {
            alert('Phim n√†y ƒë√£ c√≥ trong danh s√°ch!');
            return;
        }

        movies.push(name);
        save();
        render();
        movieInput.value = '';
    }

    function askGoogle() {
        const q = searchInput.value.trim();
        if (!q) {
            alert('Nh·∫≠p t√™n phim tr∆∞·ªõc ƒë√£!');
            return;
        }

        const query = encodeURIComponent(`${q} sequel ph·∫ßn ti·∫øp theo ng√†y ra m·∫Øt`);
        const url = `https://www.google.com/search?q=${query}`;
        window.open(url, '_blank');

        resultBox.innerHTML = `üîé ƒêang t√¨m Google cho: <b>${q}</b>`;
    }

    addBtn.addEventListener('click', addMovie);
    movieInput.addEventListener('keypress', e => {
        if (e.key === 'Enter') addMovie();
    });

    googleBtn.addEventListener('click', askGoogle);

    render();
});
</script>

</body>
</html>
